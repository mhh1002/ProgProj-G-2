class InputBox {   //Create Input Widget Class (for dates, airport code)
  int x, y, w, h;
  String label, text = "";
  boolean active = false;
  
  InputBox(int x, int y, int w, int h, String label) {
    this.x = x;
    this.y = y;
    this.w = w;
    this.h = h;
    this.label = label;
  }
  
  void draw() {
    fill(255);
    stroke(0);
    rect(x, y, w, h);
    
    fill(0);
    textSize(16);
    textAlign(LEFT, CENTER);
    text(text, x + 5, y + h/2);
    
    textAlign(LEFT, CENTER);
    text(label, x, y - 10);
  }
  
  void mousePressed() {
    active = (mouseX > x && mouseX < x + w && mouseY > y && mouseY < y + h);
  }

  void keyPressed(char key) {
    if (active) {
      if (key == BACKSPACE && text.length() > 0) {
        text = text.substring(0, text.length()-1);
      } else if (key >= '0' && key <= '9') {
        text += key;
      } else if (Character.isLetter(key)) {
        text += key;
      }
    }
  }
  
  String getText() {
    return text.trim();
  }
}
InputBox startDateBox, endDateBox; // Create Screens & Widgets
Widget confirmDateBtn;
Screen dateRangeScreen;

void setupDateRangeScreen() {
  dateRangeScreen = new Screen();
  startDateBox = new InputBox(100, 100, 200, 30, "Start Date (yyyymmdd)");
  endDateBox = new InputBox(100, 150, 200, 30, "End Date (yyyymmdd)");
  confirmDateBtn = new Widget(100, 200, 100, 30, "Confirm", color(180), stdFont, 1001); // custom event ID

  dateRangeScreen.widgets.add(confirmDateBtn);
}

InputBox airportCodeBox;   //Origin/Destination Search Screen
Widget originBtn, destBtn;
Screen airportSearchScreen;

void setupAirportSearchScreen() {
  airportSearchScreen = new Screen();
  airportCodeBox = new InputBox(100, 100, 200, 30, "Airport Code (e.g., LAX)");
  
  originBtn = new Widget(100, 150, 120, 30, "Search Origin", color(180), stdFont, 1002);
  destBtn = new Widget(240, 150, 150, 30, "Search Destination", color(180), stdFont, 1003);
  
  airportSearchScreen.widgets.add(originBtn);
  airportSearchScreen.widgets.add(destBtn);
}

Widget cancelBtn, lateDepBtn, lateArrBtn; // Monthly Status Button Screen
Screen monthlyStatusScreen;

void setupMonthlyStatusScreen() {
  monthlyStatusScreen = new Screen();
  
  cancelBtn = new Widget(100, 100, 150, 40, "Cancelled Flights", color(200), stdFont, 1004);
  lateDepBtn = new Widget(100, 160, 150, 40, "Late Departures", color(200), stdFont, 1005);
  lateArrBtn = new Widget(100, 220, 150, 40, "Late Arrivals", color(200), stdFont, 1006);
  
  monthlyStatusScreen.widgets.add(cancelBtn);
  monthlyStatusScreen.widgets.add(lateDepBtn);
  monthlyStatusScreen.widgets.add(lateArrBtn);
}

  void mousePressed() {     //Update mousePressed() and keyPressed() globally
  for (Widget w : currentScreen.widgets) {
    int event = w.getEvent(mouseX, mouseY);
    // Handle event change here
  }

  // Also activate inputs if clicked
  if (currentScreen == dateRangeScreen) {
    startDateBox.mousePressed();
    endDateBox.mousePressed();
  } else if (currentScreen == airportSearchScreen) {
    airportCodeBox.mousePressed();
  }
}

void keyPressed() {
  if (currentScreen == dateRangeScreen) {
    startDateBox.keyPressed(key);
    endDateBox.keyPressed(key);
  } else if (currentScreen == airportSearchScreen) {
    airportCodeBox.keyPressed(key);
  }
}


if (currentScreen == dateRangeScreen) {
  startDateBox.draw();
  endDateBox.draw();
} else if (currentScreen == airportSearchScreen) {
  airportCodeBox.draw();
}
