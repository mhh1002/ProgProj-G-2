PFont stdFont;
PFont labelFont;
final int DATE_RANGE=1;
final int ORIGIN_CITY=2;
final int ARRIVAL_CITY=3;
final int CAN_DEL_LAT=4;
final int BACK=5;
final int EVENT_NULL=0;
final int GAP=13;
boolean mainScreenOn;
Widget widget1, widget2, widget3, widget4;
MainScreen myMainScreen;
Screen dateRangeScr, originCityScr, arrivalCityScr, canDelLatScr;
Screen currentScreen;


class Widget
{
  int x, y, width, height;
  String label;
  int event;
  color widgetColor, labelColor;
  PFont widgetFont;
  Widget(int x, int y, int width, int height, String label,
    color widgetColor, PFont widgetFont, int event)
  {
    this.x = x;
    this.y = y;
    this.width = width;
    this.height = height;
    this.label = label;
    this.event = event;
    this.widgetColor = widgetColor;
    this.widgetFont = widgetFont;
    labelColor = color (0);
  }
  void draw()
  {
    noStroke();
    fill(widgetColor);
    rect(x, y, width, height);
    fill(255);
    textFont(widgetFont);
    text(label, x+GAP, y+height-GAP);
  }
  int getEvent(int mX, int mY)
  {
    if (mX > x && mX < x + width && mY > y && mY < y + height)
    {
      return event;
    }
    return EVENT_NULL;
  }
}


class MainScreen
{
  String label1, label2, label3, label4;
  int event;
  ArrayList<Widget> widgets = new ArrayList<Widget>();
  color backgroundColor;
  color widgetColor;
  MainScreen(String label1, String label2, String label3, String label4,
    color widgetColor, color backgroundColor)
  {
    this.label1 = label1;
    this.label2 = label2;
    this.label3 = label3;
    this.label4 = label4;
    this.widgetColor = widgetColor;
    this.backgroundColor = backgroundColor;
    this.addWidget();
  }
  int getEvent(int mX, int mY)
  {
    for (Widget w : widgets)
    {
      event = w.getEvent(mX, mY);
      if (event != EVENT_NULL)
        return event;
    }
    return EVENT_NULL;
  }
  void addWidget()
  {
    widgets.add (new Widget(225, 90, 350, 40, label1,
      widgetColor, labelFont, DATE_RANGE));
    widgets.add (new Widget(225, 160, 350, 40, label2,
      widgetColor, labelFont, ORIGIN_CITY));
    widgets.add (new Widget(225, 230, 350, 40, label3,
      widgetColor, labelFont, ARRIVAL_CITY));
    widgets.add (new Widget(225, 300, 350, 40, label4,
      widgetColor, labelFont, CAN_DEL_LAT));
  }
  void draw()
  {
    background(backgroundColor);
    fill(0);
    textFont(labelFont);
    text("Search by:", 225, 60);
    for (Widget w : widgets)
      w.draw();
  }
}


class Screen
{
  String screenName;
  int Xpos;
  float Ypos;
  color labelColor;
  color backgroundColor;
  float scrollY = 0;
  float maxScroll; //adjust according to your need for your screen
  Widget w = new Widget(10, 10, 68, 40, "back", labelColor, labelFont, BACK);
  Screen(String screenName, int Xpos, float Ypos,
    color labelColor, color backgroundColor, float maxScroll)
  {
    this.screenName = screenName;
    this.Xpos = Xpos;
    this.Ypos = Ypos;
    this.labelColor = labelColor;
    this.backgroundColor = backgroundColor;
    this.maxScroll = maxScroll;
  }
  void scroll(float amount)
  {
    scrollY -= amount * 20;
    scrollY = constrain(scrollY, maxScroll, 0);
  }
  void draw()
  {
    pushMatrix();
    translate(0, scrollY);
    background(backgroundColor);
    fill (0);
    textFont(stdFont);
    text(screenName, Xpos, Ypos);
    w.draw();
    popMatrix();
  }
}


void setup()
{
  color labelColor = color(0, 10, 97);
  stdFont = loadFont("AlNile-40.vlw");
  labelFont = loadFont("FZLTXHB--B51-0-20.vlw");
  myMainScreen = new MainScreen ("Given date range", "Origin city",
    "Arrival city", "Cancelled/Delayed/Late flights"
    , labelColor, 230);
  dateRangeScr = new Screen ("Given date range screen",
    180, 200, labelColor, 230, -1600);
  originCityScr = new Screen ("Origin city screen",
    250, 200, labelColor, 230, -1600);
  arrivalCityScr = new Screen ("Arrival city screen",
    230, 200, labelColor, 230, -1600);
  canDelLatScr = new Screen ("Cancelled/Delayed/Late flights screen",
    80, 200, labelColor, 230, -1600);
  mainScreenOn = true;
  size(800, 400);
}


void draw()
{
  if (!mainScreenOn)
  {
    currentScreen.draw();
  } else
    myMainScreen.draw();
}


void mouseWheel(MouseEvent event)
{
  if (!mainScreenOn)
    currentScreen.scroll(event.getCount());
}


void mousePressed()
{
  int event;
  if (mainScreenOn)
  {
    event = myMainScreen.getEvent(mouseX, mouseY);
    if (event == DATE_RANGE)
    {
      mainScreenOn = false;
      currentScreen = dateRangeScr;
    } else
    {
      if (event == ORIGIN_CITY)
      {
        mainScreenOn = false;
        currentScreen = originCityScr;
      } else
      {
        if (event == ARRIVAL_CITY)
        {
          mainScreenOn = false;
          currentScreen = arrivalCityScr;
        } else
        {
          if (event == CAN_DEL_LAT)
          {
            mainScreenOn = false;
            currentScreen = canDelLatScr;
          }
        }
      }
    }
  }
  else
  {
    if (currentScreen != null && currentScreen.w != null)
    {
      event = currentScreen.w.getEvent(mouseX, mouseY);
      if (event == BACK)
      {
        mainScreenOn = true;
        currentScreen = null;
      }
    }
  }
}
