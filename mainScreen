PFont stdFont;
PFont labelFont;
final int EVENT_BUTTON1=1;
final int EVENT_BUTTON2=2;
final int EVENT_BUTTON3=3;
final int EVENT_BUTTON4=4;
final int EVENT_BUTTON5=5;
final int EVENT_NULL=0;
final int GAP=13;
boolean mainScreenOn;
Widget widget1, widget2, widget3, widget4;
MainScreen myMainScreen;
Screen screen1, screen2, screen3, screen4;
Screen currentScreen;


class Widget
{
  int x, y, width, height;
  String label;
  int event;
  color widgetColor, labelColor;
  PFont widgetFont;
  Widget(int x, int y, int width, int height, String label,
    color widgetColor, PFont widgetFont, int event)
  {
    this.x = x;
    this.y = y;
    this.width = width;
    this.height = height;
    this.label = label;
    this.event = event;
    this.widgetColor = widgetColor;
    this.widgetFont = widgetFont;
    labelColor = color (0);
  }
  void draw()
  {
    noStroke();
    fill(widgetColor);
    rect(x, y, width, height);
    fill(255);
    textFont(widgetFont);
    text(label, x+GAP, y+height-GAP);
  }
  int getEvent(int mX, int mY)
  {
    if (mX > x && mX < x + width && mY > y && mY < y + height)
    {
      return event;
    }
    return EVENT_NULL;
  }
}


class MainScreen
{
  String label1, label2, label3, label4;
  int event;
  ArrayList<Widget> widgets = new ArrayList<Widget>();
  color backgroundColor;
  color widgetColor;
  MainScreen(String label1, String label2, String label3, String label4,
    color widgetColor, color backgroundColor)
  {
    this.label1 = label1;
    this.label2 = label2;
    this.label3 = label3;
    this.label4 = label4;
    this.widgetColor = widgetColor;
    this.backgroundColor = backgroundColor;
    this.addWidget();
  }
  int getEvent(int mX, int mY)
  {
    for (Widget w : widgets)
    {
      event = w.getEvent(mX, mY);
      if (event != EVENT_NULL)
        return event;
    }
    return EVENT_NULL;
  }
  void addWidget()
  {
    widgets.add (new Widget(225, 90, 350, 40, label1,
      widgetColor, labelFont, EVENT_BUTTON1));
    widgets.add (new Widget(225, 160, 350, 40, label2,
      widgetColor, labelFont, EVENT_BUTTON2));
    widgets.add (new Widget(225, 230, 350, 40, label3,
      widgetColor, labelFont, EVENT_BUTTON3));
    widgets.add (new Widget(225, 300, 350, 40, label4,
      widgetColor, labelFont, EVENT_BUTTON4));
  }
  void draw()
  {
    background(backgroundColor);
    fill(0);
    textFont(labelFont);
    text("Search by:", 225, 60);
    for (Widget w : widgets)
      w.draw();
  }
}


class Screen
{
  String screenName;
  int Xpos;
  int Ypos;
  color labelColor;
  color backgroundColor;
  Widget w = new Widget(10, 10, 68, 40, "back", labelColor, labelFont, EVENT_BUTTON5);
  Screen(String screenName, int Xpos, int Ypos, color labelColor, color backgroundColor)
  {
    this.screenName = screenName;
    this.Xpos = Xpos;
    this.Ypos = Ypos;
    this.labelColor = labelColor;
    this.backgroundColor = backgroundColor;
  }
  void draw()
  {
    background(backgroundColor);
    fill (0);
    textFont(stdFont);
    text(screenName, Xpos, Ypos);
    w.draw();
  }
}


void setup()
{
  color labelColor = color(0, 10, 97);
  stdFont = loadFont("AlNile-40.vlw");
  labelFont = loadFont("FZLTXHB--B51-0-20.vlw");
  myMainScreen = new MainScreen ("Given date range", "Origin city",
    "Arrival city", "Cancelled/Delayed/Late flights"
    , labelColor, 230);
  screen1 = new Screen ("Given date range screen", 180, 200, labelColor, 230);
  screen2 = new Screen ("Origin city screen", 250, 200, labelColor, 230);
  screen3 = new Screen ("Arrival city screen", 230, 200, labelColor, 230);
  screen4 = new Screen ("Cancelled/Delayed/Late flights screen", 80, 200, labelColor, 230);
  mainScreenOn = true;
  size(800, 400);
}


void draw()
{
  if (!mainScreenOn)
    currentScreen.draw();
  else
    myMainScreen.draw();
}


void mousePressed()
{
  int event;
  event = myMainScreen.getEvent(mouseX, mouseY);
  if (event == EVENT_BUTTON1)
  {
    mainScreenOn = false;
    currentScreen = screen1;
  } else
  {
    if (event == EVENT_BUTTON2)
    {
      mainScreenOn = false;
      currentScreen = screen2;
    } else
    {
      if (event == EVENT_BUTTON3)
      {
        mainScreenOn = false;
        currentScreen = screen3;
      } else
      {
        if (event == EVENT_BUTTON4)
        {
          mainScreenOn = false;
          currentScreen = screen4;
        } else
        {
          event = currentScreen.w.getEvent(mouseX, mouseY);
          if (event == EVENT_BUTTON5)
          {
            mainScreenOn = true;
          }
        }
      }
    }
  }
}
